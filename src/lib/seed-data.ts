'use client';
import type { Equipment, VSD } from '@/lib/types';
import { format } from 'date-fns';
import {
  CollectionReference,
  doc,
  writeBatch,
  collection,
} from 'firebase/firestore';
import type { Firestore } from 'firebase/firestore';
import { toast } from '@/hooks/use-toast';

const today = format(new Date(), 'yyyy-MM-dd');
const nextMaintenance = format(
  new Date(new Date().setMonth(new Date().getMonth() + 3)),
  'yyyy-MM-dd'
);

const equipmentData: { equipment: Equipment; vsd: VSD }[] = [
  {
    equipment: {
      id: 'mpc-dredge-main-pump-1',
      name: 'Dredge Main Pump No. 1',
      type: 'Pump',
      plant: 'Mining',
      division: 'Dredgers',
      location: 'MPC',
      vsdId: 'vsd-mpc-dredge-main-pump-1',
      lastMaintenance: today,
      nextMaintenance: nextMaintenance,
      uptime: 100,
      powerConsumption: 0,
      status: 'active',
      model: 'ACS800',
      serialNumber: 'SN-ABB-001',
      installationDate: today,
    },
    vsd: {
      id: 'vsd-mpc-dredge-main-pump-1',
      serialNumber: 'SN-ABB-001',
      equipmentId: 'mpc-dredge-main-pump-1',
      model: 'ACS800',
      installationDate: today,
      status: 'active',
    },
  },
  {
    equipment: {
      id: 'mpc-dredge-main-pump-2',
      name: 'Dredge Main Pump No. 2',
      type: 'Pump',
      plant: 'Mining',
      division: 'Dredgers',
      location: 'MPC',
      vsdId: 'vsd-mpc-dredge-main-pump-2',
      lastMaintenance: today,
      nextMaintenance: nextMaintenance,
      uptime: 100,
      powerConsumption: 0,
      status: 'active',
      model: 'ACS800',
      serialNumber: 'SN-ABB-002',
      installationDate: today,
    },
    vsd: {
      id: 'vsd-mpc-dredge-main-pump-2',
      serialNumber: 'SN-ABB-002',
      equipmentId: 'mpc-dredge-main-pump-2',
      model: 'ACS800',
      installationDate: today,
      status: 'active',
    },
  },
  {
    equipment: {
      id: 'mpc-dredge-ladder-winch',
      name: 'Dredge Ladder Winch',
      type: 'Utility Room',
      plant: 'Mining',
      division: 'Dredgers',
      location: 'MPC',
      vsdId: 'vsd-mpc-dredge-ladder-winch',
      lastMaintenance: today,
      nextMaintenance: nextMaintenance,
      uptime: 100,
      powerConsumption: 0,
      status: 'active',
      model: 'ACS800',
      serialNumber: 'SN-ABB-003',
      installationDate: today,
    },
    vsd: {
      id: 'vsd-mpc-dredge-ladder-winch',
      serialNumber: 'SN-ABB-003',
      equipmentId: 'mpc-dredge-ladder-winch',
      model: 'ACS800',
      installationDate: today,
      status: 'active',
    },
  },
  {
    equipment: {
      id: 'mpc-dredge-swing-winch-left',
      name: 'Dredge Swing Winch Left',
      type: 'Utility Room',
      plant: 'Mining',
      division: 'Dredgers',
      location: 'MPC',
      vsdId: 'vsd-mpc-dredge-swing-winch-left',
      lastMaintenance: today,
      nextMaintenance: nextMaintenance,
      uptime: 100,
      powerConsumption: 0,
      status: 'active',
      model: 'ACS800',
      serialNumber: 'SN-ABB-004',
      installationDate: today,
    },
    vsd: {
      id: 'vsd-mpc-dredge-swing-winch-left',
      serialNumber: 'SN-ABB-004',
      equipmentId: 'mpc-dredge-swing-winch-left',
      model: 'ACS800',
      installationDate: today,
      status: 'active',
    },
  },
  {
    equipment: {
      id: 'mpc-dredge-swing-winch-right',
      name: 'Dredge Swing Winch Right',
      type: 'Utility Room',
      plant: 'Mining',
      division: 'Dredgers',
      location: 'MPC',
      vsdId: 'vsd-mpc-dredge-swing-winch-right',
      lastMaintenance: today,
      nextMaintenance: nextMaintenance,
      uptime: 100,
      powerConsumption: 0,
      status: 'active',
      model: 'ACS800',
      serialNumber: 'SN-ABB-005',
      installationDate: today,
    },
    vsd: {
      id: 'vsd-mpc-dredge-swing-winch-right',
      serialNumber: 'SN-ABB-005',
      equipmentId: 'mpc-dredge-swing-winch-right',
      model: 'ACS800',
      installationDate: today,
      status: 'active',
    },
  },
  {
    equipment: {
      id: 'mpc-dredge-spud-carriage-motor',
      name: 'Dredge Spud Carriage Motor',
      type: 'Utility Room',
      plant: 'Mining',
      division: 'Dredgers',
      location: 'MPC',
      vsdId: 'vsd-mpc-dredge-spud-carriage-motor',
      lastMaintenance: today,
      nextMaintenance: nextMaintenance,
      uptime: 100,
      powerConsumption: 0,
      status: 'active',
      model: 'ACS800',
      serialNumber: 'SN-ABB-006',
      installationDate: today,
    },
    vsd: {
      id: 'vsd-mpc-dredge-spud-carriage-motor',
      serialNumber: 'SN-ABB-006',
      equipmentId: 'mpc-dredge-spud-carriage-motor',
      model: 'ACS800',
      installationDate: today,
      status: 'active',
    },
  },
  {
    equipment: {
      id: 'mpc-dredge-hyd-motor-1',
      name: 'Dredge Hydraulic Motor 1 Cutter wheel',
      type: 'Utility Room',
      plant: 'Mining',
      division: 'Dredgers',
      location: 'MPC',
      vsdId: 'vsd-mpc-dredge-hyd-motor-1',
      lastMaintenance: today,
      nextMaintenance: nextMaintenance,
      uptime: 100,
      powerConsumption: 0,
      status: 'active',
      model: 'ACS800',
      serialNumber: 'SN-ABB-007',
      installationDate: today,
    },
    vsd: {
      id: 'vsd-mpc-dredge-hyd-motor-1',
      serialNumber: 'SN-ABB-007',
      equipmentId: 'mpc-dredge-hyd-motor-1',
      model: 'ACS800',
      installationDate: today,
      status: 'active',
    },
  },
  {
    equipment: {
      id: 'mpc-dredge-hyd-motor-2',
      name: 'Dredge Hydraulic Motor 2 Cutter wheel',
      type: 'Utility Room',
      plant: 'Mining',
      division: 'Dredgers',
      location: 'MPC',
      vsdId: 'vsd-mpc-dredge-hyd-motor-2',
      lastMaintenance: today,
      nextMaintenance: nextMaintenance,
      uptime: 100,
      powerConsumption: 0,
      status: 'active',
      model: 'ACS800',
      serialNumber: 'SN-ABB-008',
      installationDate: today,
    },
    vsd: {
      id: 'vsd-mpc-dredge-hyd-motor-2',
      serialNumber: 'SN-ABB-008',
      equipmentId: 'mpc-dredge-hyd-motor-2',
      model: 'ACS800',
      installationDate: today,
      status: 'active',
    },
  },
  {
    equipment: {
      id: 'mpc-dredge-dsu',
      name: 'Dredge DSU',
      type: 'Utility Room',
      plant: 'Mining',
      division: 'Dredgers',
      location: 'MPC',
      vsdId: 'vsd-mpc-dredge-dsu',
      lastMaintenance: today,
      nextMaintenance: nextMaintenance,
      uptime: 100,
      powerConsumption: 0,
      status: 'active',
      model: 'ACS800',
      serialNumber: 'SN-ABB-009',
      installationDate: today,
    },
    vsd: {
      id: 'vsd-mpc-dredge-dsu',
      serialNumber: 'SN-ABB-009',
      equipmentId: 'mpc-dredge-dsu',
      model: 'ACS800',
      installationDate: today,
      status: 'active',
    },
  },
  {
    equipment: {
      id: 'mpc-dredge-chopper',
      name: 'Dredge Chopper and resistive breaking unit',
      type: 'Utility Room',
      plant: 'Mining',
      division: 'Dredgers',
      location: 'MPC',
      vsdId: 'vsd-mpc-dredge-chopper',
      lastMaintenance: today,
      nextMaintenance: nextMaintenance,
      uptime: 100,
      powerConsumption: 0,
      status: 'active',
      model: 'ACS800',
      serialNumber: 'SN-ABB-010',
      installationDate: today,
    },
    vsd: {
      id: 'vsd-mpc-dredge-chopper',
      serialNumber: 'SN-ABB-010',
      equipmentId: 'mpc-dredge-chopper',
      model: 'ACS800',
      installationDate: today,
      status: 'active',
    },
  },
  {
    equipment: {
      id: 'mpc-c1-cleaner-feed',
      name: 'C1 Cleaner Feed',
      type: 'Pump',
      plant: 'Mining',
      division: 'Dredgers',
      location: 'MPC',
      vsdId: 'vsd-mpc-c1-cleaner-feed',
      lastMaintenance: today,
      nextMaintenance: nextMaintenance,
      uptime: 100,
      powerConsumption: 0,
      status: 'active',
      model: 'ACS880',
      serialNumber: 'SN-ABB-011',
      installationDate: today,
    },
    vsd: {
      id: 'vsd-mpc-c1-cleaner-feed',
      serialNumber: 'SN-ABB-011',
      equipmentId: 'mpc-c1-cleaner-feed',
      model: 'ACS880',
      installationDate: today,
      status: 'active',
    },
  },
  {
    equipment: {
      id: 'mpc-c1-1-final-cons',
      name: 'C1-1 Final Cons',
      type: 'Pump',
      plant: 'Mining',
      division: 'Dredgers',
      location: 'MPC',
      vsdId: 'vsd-mpc-c1-1-final-cons',
      lastMaintenance: today,
      nextMaintenance: nextMaintenance,
      uptime: 100,
      powerConsumption: 0,
      status: 'active',
      model: 'ACS607',
      serialNumber: 'SN-ABB-012',
      installationDate: today,
    },
    vsd: {
      id: 'vsd-mpc-c1-1-final-cons',
      serialNumber: 'SN-ABB-012',
      equipmentId: 'mpc-c1-1-final-cons',
      model: 'ACS607',
      installationDate: today,
      status: 'active',
    },
  },
  {
    equipment: {
      id: 'mpc-c1-2-final-cons',
      name: 'C1-2 Final Cons',
      type: 'Pump',
      plant: 'Mining',
      division: 'Dredgers',
      location: 'MPC',
      vsdId: 'vsd-mpc-c1-2-final-cons',
      lastMaintenance: today,
      nextMaintenance: nextMaintenance,
      uptime: 100,
      powerConsumption: 0,
      status: 'active',
      model: 'ACS607',
      serialNumber: 'SN-ABB-013',
      installationDate: today,
    },
    vsd: {
      id: 'vsd-mpc-c1-2-final-cons',
      serialNumber: 'SN-ABB-013',
      equipmentId: 'mpc-c1-2-final-cons',
      model: 'ACS607',
      installationDate: today,
      status: 'active',
    },
  },
  {
    equipment: {
      id: 'mpc-c1-cleaner-mids',
      name: 'C1 Cleaner Mids / SCAVENGER MIDS',
      type: 'Pump',
      plant: 'Mining',
      division: 'Dredgers',
      location: 'MPC',
      vsdId: 'vsd-mpc-c1-cleaner-mids',
      lastMaintenance: today,
      nextMaintenance: nextMaintenance,
      uptime: 100,
      powerConsumption: 0,
      status: 'active',
      model: 'ACS880',
      serialNumber: 'SN-ABB-014',
      installationDate: today,
    },
    vsd: {
      id: 'vsd-mpc-c1-cleaner-mids',
      serialNumber: 'SN-ABB-014',
      equipmentId: 'mpc-c1-cleaner-mids',
      model: 'ACS880',
      installationDate: today,
      status: 'active',
    },
  },
  {
    equipment: {
      id: 'mpc-c1-scavenger-feed',
      name: 'C1 Scavenger Feed',
      type: 'Pump',
      plant: 'Mining',
      division: 'Dredgers',
      location: 'MPC',
      vsdId: 'vsd-mpc-c1-scavenger-feed',
      lastMaintenance: today,
      nextMaintenance: nextMaintenance,
      uptime: 100,
      powerConsumption: 0,
      status: 'active',
      model: 'ACS607',
      serialNumber: 'SN-ABB-015',
      installationDate: today,
    },
    vsd: {
      id: 'vsd-mpc-c1-scavenger-feed',
      serialNumber: 'SN-ABB-015',
      equipmentId: 'mpc-c1-scavenger-feed',
      model: 'ACS607',
      installationDate: today,
      status: 'active',
    },
  },
  {
    equipment: {
      id: 'mpc-c1-1-tails',
      name: 'C1-1 Tails',
      type: 'Pump',
      plant: 'Mining',
      division: 'Dredgers',
      location: 'MPC',
      vsdId: 'vsd-mpc-c1-1-tails',
      lastMaintenance: today,
      nextMaintenance: nextMaintenance,
      uptime: 100,
      powerConsumption: 0,
      status: 'active',
      model: 'ACS607',
      serialNumber: 'SN-ABB-016',
      installationDate: today,
    },
    vsd: {
      id: 'vsd-mpc-c1-1-tails',
      serialNumber: 'SN-ABB-016',
      equipmentId: 'mpc-c1-1-tails',
      model: 'ACS607',
      installationDate: today,
      status: 'active',
    },
  },
  {
    equipment: {
      id: 'mpc-c1-2-tails',
      name: 'C1-2 Tails',
      type: 'Pump',
      plant: 'Mining',
      division: 'Dredgers',
      location: 'MPC',
      vsdId: 'vsd-mpc-c1-2-tails',
      lastMaintenance: today,
      nextMaintenance: nextMaintenance,
      uptime: 100,
      powerConsumption: 0,
      status: 'active',
      model: 'ACS607',
      serialNumber: 'SN-ABB-017',
      installationDate: today,
    },
    vsd: {
      id: 'vsd-mpc-c1-2-tails',
      serialNumber: 'SN-ABB-017',
      equipmentId: 'mpc-c1-2-tails',
      model: 'ACS607',
      installationDate: today,
      status: 'active',
    },
  },
  {
    equipment: {
      id: 'mpc-c1-tails-densifier',
      name: 'C1 Tails Densifier',
      type: 'Pump',
      plant: 'Mining',
      division: 'Dredgers',
      location: 'MPC',
      vsdId: 'vsd-mpc-c1-tails-densifier',
      lastMaintenance: today,
      nextMaintenance: nextMaintenance,
      uptime: 100,
      powerConsumption: 0,
      status: 'active',
      model: 'ACS880',
      serialNumber: 'SN-ABB-018',
      installationDate: today,
    },
    vsd: {
      id: 'vsd-mpc-c1-tails-densifier',
      serialNumber: 'SN-ABB-018',
      equipmentId: 'mpc-c1-tails-densifier',
      model: 'ACS880',
      installationDate: today,
      status: 'active',
    },
  },
  {
    equipment: {
      id: 'mpc-c2-cleaner-feed',
      name: 'C2 Cleaner Feed',
      type: 'Pump',
      plant: 'Mining',
      division: 'Dredgers',
      location: 'MPC',
      vsdId: 'vsd-mpc-c2-cleaner-feed',
      lastMaintenance: today,
      nextMaintenance: nextMaintenance,
      uptime: 100,
      powerConsumption: 0,
      status: 'active',
      model: 'ACS880',
      serialNumber: 'SN-ABB-019',
      installationDate: today,
    },
    vsd: {
      id: 'vsd-mpc-c2-cleaner-feed',
      serialNumber: 'SN-ABB-019',
      equipmentId: 'mpc-c2-cleaner-feed',
      model: 'ACS880',
      installationDate: today,
      status: 'active',
    },
  },
  {
    equipment: {
      id: 'mpc-c2-1-final-cons',
      name: 'C2-1 Final Cons',
      type: 'Pump',
      plant: 'Mining',
      division: 'Dredgers',
      location: 'MPC',
      vsdId: 'vsd-mpc-c2-1-final-cons',
      lastMaintenance: today,
      nextMaintenance: nextMaintenance,
      uptime: 100,
      powerConsumption: 0,
      status: 'active',
      model: 'ACS607',
      serialNumber: 'SN-ABB-020',
      installationDate: today,
    },
    vsd: {
      id: 'vsd-mpc-c2-1-final-cons',
      serialNumber: 'SN-ABB-020',
      equipmentId: 'mpc-c2-1-final-cons',
      model: 'ACS607',
      installationDate: today,
      status: 'active',
    },
  },
  {
    equipment: {
      id: 'mpc-c2-2-final-cons',
      name: 'C2-2 Final Cons',
      type: 'Pump',
      plant: 'Mining',
      division: 'Dredgers',
      location: 'MPC',
      vsdId: 'vsd-mpc-c2-2-final-cons',
      lastMaintenance: today,
      nextMaintenance: nextMaintenance,
      uptime: 100,
      powerConsumption: 0,
      status: 'active',
      model: 'ACS607',
      serialNumber: 'SN-ABB-021',
      installationDate: today,
    },
    vsd: {
      id: 'vsd-mpc-c2-2-final-cons',
      serialNumber: 'SN-ABB-021',
      equipmentId: 'mpc-c2-2-final-cons',
      model: 'ACS607',
      installationDate: today,
      status: 'active',
    },
  },
  {
    equipment: {
      id: 'mpc-c2-scavenger-mids',
      name: 'C2 Scavenger Mids',
      type: 'Pump',
      plant: 'Mining',
      division: 'Dredgers',
      location: 'MPC',
      vsdId: 'vsd-mpc-c2-scavenger-mids',
      lastMaintenance: today,
      nextMaintenance: nextMaintenance,
      uptime: 100,
      powerConsumption: 0,
      status: 'active',
      model: 'ACS880',
      serialNumber: 'SN-ABB-022',
      installationDate: today,
    },
    vsd: {
      id: 'vsd-mpc-c2-scavenger-mids',
      serialNumber: 'SN-ABB-022',
      equipmentId: 'mpc-c2-scavenger-mids',
      model: 'ACS880',
      installationDate: today,
      status: 'active',
    },
  },
  {
    equipment: {
      id: 'mpc-c2-scavenger-feed',
      name: 'C2 Scavenger Feed',
      type: 'Pump',
      plant: 'Mining',
      division: 'Dredgers',
      location: 'MPC',
      vsdId: 'vsd-mpc-c2-scavenger-feed',
      lastMaintenance: today,
      nextMaintenance: nextMaintenance,
      uptime: 100,
      powerConsumption: 0,
      status: 'active',
      model: 'ACS607',
      serialNumber: 'SN-ABB-023',
      installationDate: today,
    },
    vsd: {
      id: 'vsd-mpc-c2-scavenger-feed',
      serialNumber: 'SN-ABB-023',
      equipmentId: 'mpc-c2-scavenger-feed',
      model: 'ACS607',
      installationDate: today,
      status: 'active',
    },
  },
  {
    equipment: {
      id: 'mpc-c2-1-tails',
      name: 'C2-1 Tails',
      type: 'Pump',
      plant: 'Mining',
      division: 'Dredgers',
      location: 'MPC',
      vsdId: 'vsd-mpc-c2-1-tails',
      lastMaintenance: today,
      nextMaintenance: nextMaintenance,
      uptime: 100,
      powerConsumption: 0,
      status: 'active',
      model: 'ACS607',
      serialNumber: 'SN-ABB-024',
      installationDate: today,
    },
    vsd: {
      id: 'vsd-mpc-c2-1-tails',
      serialNumber: 'SN-ABB-024',
      equipmentId: 'mpc-c2-1-tails',
      model: 'ACS607',
      installationDate: today,
      status: 'active',
    },
  },
  {
    equipment: {
      id: 'mpc-c2-2-tails',
      name: 'C2-2 Tails',
      type: 'Pump',
      plant: 'Mining',
      division: 'Dredgers',
      location: 'MPC',
      vsdId: 'vsd-mpc-c2-2-tails',
      lastMaintenance: today,
      nextMaintenance: nextMaintenance,
      uptime: 100,
      powerConsumption: 0,
      status: 'active',
      model: 'ACS607',
      serialNumber: 'SN-ABB-025',
      installationDate: today,
    },
    vsd: {
      id: 'vsd-mpc-c2-2-tails',
      serialNumber: 'SN-ABB-025',
      equipmentId: 'mpc-c2-2-tails',
      model: 'ACS607',
      installationDate: today,
      status: 'active',
    },
  },
  {
    equipment: {
      id: 'mpc-c2-tails-densifier',
      name: 'C2 Tails Densifier',
      type: 'Pump',
      plant: 'Mining',
      division: 'Dredgers',
      location: 'MPC',
      vsdId: 'vsd-mpc-c2-tails-densifier',
      lastMaintenance: today,
      nextMaintenance: nextMaintenance,
      uptime: 100,
      powerConsumption: 0,
      status: 'active',
      model: 'ACS880',
      serialNumber: 'SN-ABB-026',
      installationDate: today,
    },
    vsd: {
      id: 'vsd-mpc-c2-tails-densifier',
      serialNumber: 'SN-ABB-026',
      equipmentId: 'mpc-c2-tails-densifier',
      model: 'ACS880',
      installationDate: today,
      status: 'active',
    },
  },
  {
    equipment: {
      id: 'mpc-c1-primary-feed-pump',
      name: 'C1 Primary Feed Pump',
      type: 'Pump',
      plant: 'Mining',
      division: 'Dredgers',
      location: 'MPC',
      vsdId: 'vsd-mpc-c1-primary-feed-pump',
      lastMaintenance: today,
      nextMaintenance: nextMaintenance,
      uptime: 100,
      powerConsumption: 0,
      status: 'active',
      model: 'ACS607',
      serialNumber: 'SN-ABB-027',
      installationDate: today,
    },
    vsd: {
      id: 'vsd-mpc-c1-primary-feed-pump',
      serialNumber: 'SN-ABB-027',
      equipmentId: 'mpc-c1-primary-feed-pump',
      model: 'ACS607',
      installationDate: today,
      status: 'active',
    },
  },
  {
    equipment: {
      id: 'mpc-c1-magnetite-pump',
      name: 'C1 Magnetite Pump',
      type: 'Pump',
      plant: 'Mining',
      division: 'Dredgers',
      location: 'MPC',
      vsdId: 'vsd-mpc-c1-magnetite-pump',
      lastMaintenance: today,
      nextMaintenance: nextMaintenance,
      uptime: 100,
      powerConsumption: 0,
      status: 'active',
      model: 'ACS880',
      serialNumber: 'SN-ABB-028',
      installationDate: today,
    },
    vsd: {
      id: 'vsd-mpc-c1-magnetite-pump',
      serialNumber: 'SN-ABB-028',
      equipmentId: 'mpc-c1-magnetite-pump',
      model: 'ACS880',
      installationDate: today,
      status: 'active',
    },
  },
  {
    equipment: {
      id: 'mpc-c1-cleaner-tails-scavenger',
      name: 'C1 Cleaner Tails Scavenger',
      type: 'Pump',
      plant: 'Mining',
      division: 'Dredgers',
      location: 'MPC',
      vsdId: 'vsd-mpc-c1-cleaner-tails-scavenger',
      lastMaintenance: today,
      nextMaintenance: nextMaintenance,
      uptime: 100,
      powerConsumption: 0,
      status: 'active',
      model: 'ACS880',
      serialNumber: 'SN-ABB-029',
      installationDate: today,
    },
    vsd: {
      id: 'vsd-mpc-c1-cleaner-tails-scavenger',
      serialNumber: 'SN-ABB-029',
      equipmentId: 'mpc-c1-cleaner-tails-scavenger',
      model: 'ACS880',
      installationDate: today,
      status: 'active',
    },
  },
  {
    equipment: {
      id: 'mpc-c1-tails-transfer-pump',
      name: 'C1 Tails Transfer Pump',
      type: 'Pump',
      plant: 'Mining',
      division: 'Dredgers',
      location: 'MPC',
      vsdId: 'vsd-mpc-c1-tails-transfer-pump',
      lastMaintenance: today,
      nextMaintenance: nextMaintenance,
      uptime: 100,
      powerConsumption: 0,
      status: 'active',
      model: 'ACS607',
      serialNumber: 'SN-ABB-030',
      installationDate: today,
    },
    vsd: {
      id: 'vsd-mpc-c1-tails-transfer-pump',
      serialNumber: 'SN-ABB-030',
      equipmentId: 'mpc-c1-tails-transfer-pump',
      model: 'ACS607',
      installationDate: today,
      status: 'active',
    },
  },
  {
    equipment: {
      id: 'mpc-c1-cleaner-mids-2',
      name: 'C1 Cleaner Mids',
      type: 'Pump',
      plant: 'Mining',
      division: 'Dredgers',
      location: 'MPC',
      vsdId: 'vsd-mpc-c1-cleaner-mids-2',
      lastMaintenance: today,
      nextMaintenance: nextMaintenance,
      uptime: 100,
      powerConsumption: 0,
      status: 'active',
      model: 'ACS880',
      serialNumber: 'SN-ABB-031',
      installationDate: today,
    },
    vsd: {
      id: 'vsd-mpc-c1-cleaner-mids-2',
      serialNumber: 'SN-ABB-031',
      equipmentId: 'mpc-c1-cleaner-mids-2',
      model: 'ACS880',
      installationDate: today,
      status: 'active',
    },
  },
  {
    equipment: {
      id: 'mpc-c2-primary-feed-pump',
      name: 'C2 Primary Feed Pump',
      type: 'Pump',
      plant: 'Mining',
      division: 'Dredgers',
      location: 'MPC',
      vsdId: 'vsd-mpc-c2-primary-feed-pump',
      lastMaintenance: today,
      nextMaintenance: nextMaintenance,
      uptime: 100,
      powerConsumption: 0,
      status: 'active',
      model: 'ACS607',
      serialNumber: 'SN-ABB-032',
      installationDate: today,
    },
    vsd: {
      id: 'vsd-mpc-c2-primary-feed-pump',
      serialNumber: 'SN-ABB-032',
      equipmentId: 'mpc-c2-primary-feed-pump',
      model: 'ACS607',
      installationDate: today,
      status: 'active',
    },
  },
  {
    equipment: {
      id: 'mpc-c2-magnetite-pump',
      name: 'C2 Magnetite Pump',
      type: 'Pump',
      plant: 'Mining',
      division: 'Dredgers',
      location: 'MPC',
      vsdId: 'vsd-mpc-c2-magnetite-pump',
      lastMaintenance: today,
      nextMaintenance: nextMaintenance,
      uptime: 100,
      powerConsumption: 0,
      status: 'active',
      model: 'ACS880',
      serialNumber: 'SN-ABB-033',
      installationDate: today,
    },
    vsd: {
      id: 'vsd-mpc-c2-magnetite-pump',
      serialNumber: 'SN-ABB-033',
      equipmentId: 'mpc-c2-magnetite-pump',
      model: 'ACS880',
      installationDate: today,
      status: 'active',
    },
  },
  {
    equipment: {
      id: 'mpc-c2-cleaner-tails-scavenger',
      name: 'C2 Cleaner Tails Scavenger',
      type: 'Pump',
      plant: 'Mining',
      division: 'Dredgers',
      location: 'MPC',
      vsdId: 'vsd-mpc-c2-cleaner-tails-scavenger',
      lastMaintenance: today,
      nextMaintenance: nextMaintenance,
      uptime: 100,
      powerConsumption: 0,
      status: 'active',
      model: 'ACS880',
      serialNumber: 'SN-ABB-034',
      installationDate: today,
    },
    vsd: {
      id: 'vsd-mpc-c2-cleaner-tails-scavenger',
      serialNumber: 'SN-ABB-034',
      equipmentId: 'mpc-c2-cleaner-tails-scavenger',
      model: 'ACS880',
      installationDate: today,
      status: 'active',
    },
  },
  {
    equipment: {
      id: 'mpc-c2-tails-transfer-pump',
      name: 'C2 Tails Transfer Pump',
      type: 'Pump',
      plant: 'Mining',
      division: 'Dredgers',
      location: 'MPC',
      vsdId: 'vsd-mpc-c2-tails-transfer-pump',
      lastMaintenance: today,
      nextMaintenance: nextMaintenance,
      uptime: 100,
      powerConsumption: 0,
      status: 'active',
      model: 'ACS607',
      serialNumber: 'SN-ABB-035',
      installationDate: today,
    },
    vsd: {
      id: 'vsd-mpc-c2-tails-transfer-pump',
      serialNumber: 'SN-ABB-035',
      equipmentId: 'mpc-c2-tails-transfer-pump',
      model: 'ACS607',
      installationDate: today,
      status: 'active',
    },
  },
  {
    equipment: {
      id: 'mpc-c2-cleaner-mids',
      name: 'C2 Cleaner Mids',
      type: 'Pump',
      plant: 'Mining',
      division: 'Dredgers',
      location: 'MPC',
      vsdId: 'vsd-mpc-c2-cleaner-mids',
      lastMaintenance: today,
      nextMaintenance: nextMaintenance,
      uptime: 100,
      powerConsumption: 0,
      status: 'active',
      model: 'ACS880',
      serialNumber: 'SN-ABB-036',
      installationDate: today,
    },
    vsd: {
      id: 'vsd-mpc-c2-cleaner-mids',
      serialNumber: 'SN-ABB-036',
      equipmentId: 'mpc-c2-cleaner-mids',
      model: 'ACS880',
      installationDate: today,
      status: 'active',
    },
  },
];

export async function seedDatabase(db: Firestore) {
  if (equipmentData.length === 0) {
    toast({
      variant: 'destructive',
      title: 'No Data to Seed',
      description: 'The equipment data list is empty. Please add data to the seed file first.',
    });
    return;
  }
  const equipmentCol = collection(db, 'equipment') as CollectionReference<Equipment>;
  const vsdCol = collection(db, 'vsds') as CollectionReference<VSD>;

  try {
    let batch = writeBatch(db);
    let count = 0;

    for (const { equipment, vsd } of equipmentData) {
      // Set equipment data
      batch.set(doc(equipmentCol, equipment.id), equipment);

      // Set VSD data
      batch.set(doc(vsdCol, vsd.id), vsd);

      count++;
      // Firestore allows a maximum of 500 operations per batch
      if (count % 499 === 0) {
        await batch.commit();
        batch = writeBatch(db); // Re-initialize for next set of operations
      }
    }

    // Commit any remaining operations
    await batch.commit();
    toast({
      title: 'Database Seeded!',
      description: `${count} equipment and VSD records have been added.`,
    });
  } catch (error) {
    console.error('Error seeding database:', error);
    toast({
      variant: 'destructive',
      title: 'Database Seeding Failed',
      description:
        'An error occurred while seeding the database. Check the console for details.',
    });
  }
}
